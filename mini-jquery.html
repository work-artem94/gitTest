<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <script type="application/javascript">

  //MySelect - конструктор обьекта
  function MySelect(selector){
      var time = performance.now();

      this.elementList = document.querySelectorAll(selector);
      console.log(this);

      time = performance.now() - time;
      console.log('Время выполнения = ', time);
  }

  //Добавить указанный класс ко всем элементам, выбранным объектом MySelect
  MySelect.prototype.addClass = function(className){
      for (let i = 0; i < this.elementList.length; i++){
          let el = this.elementList[i];
          el.classList.add(className);
      }
      //console.log(this);
      //console.log(MySelect.prototype);
      return this; //Возвращаем обьект MySelect, чтобы работала цепь вызовов
  }

  //Удалить указанный класс ко всем элементам, выбранным объектом MySelect
  MySelect.prototype.removeClass = function(className){
      for (let i = 0; i < this.elementList.length; i++){
          let el = this.elementList[i];
          el.classList.remove(className);
      }
      return this; //Возвращаем обьект MySelect, чтобы работала цепь вызовов
  }

  //Добавить указанный текст ко всем элементам, выбранным объектом MySelect
  MySelect.prototype.text = function(value){
      for (let i = 0; i < this.elementList.length; i++){
          let el = this.elementList[i];
          el.innerText += value;
      }
      return this; //Возвращаем обьект MySelect, чтобы работала цепь вызовов
  }

  //Добавить указанный текст (со считкой html тегов) ко всем элементам, выбранным объектом MySelect
  MySelect.prototype.html = function(value){
      for (let i = 0; i < this.elementList.length; i++){
          let el = this.elementList[i];
          el.innerHTML += value;
      }
      return this; //Возвращаем обьект MySelect, чтобы работала цепь вызовов
  }

  //Очистить все содержимое элементов, выбранным объектом MySelect
  MySelect.prototype.empty = function(){
      for (let i = 0; i < this.elementList.length; i++){
          let el = this.elementList[i];
          el.innerHTML = "";
      }
      return this; //Возвращаем обьект MySelect, чтобы работала цепь вызовов
  }


  //Функция для вызова через $ синтаксис, как в JQuery
  function $(selector){
      return new MySelect(selector);
  }

  </script>
  <style type="text/css">
    div{
      border: 1px solid black;
      padding: 20px;
      margin: 2px;
    }
    .new{
      background-color: #eee;
      font-style: italic;
    }
  </style>
 </head>
 <body>
    <a href="#" onclick="$('div').addClass('new').text(' call chain');">$('div').addClass('new').text(' call chain');</a>
    <br><br>
    <a href="#" onclick="$('div').addClass('new');">addClass</a>
    <br>
    <a href="#" onclick="$('div').removeClass('new');">removeClass</a>
    <br>
    <a href="#" onclick="$('div').text('<p>new</p>');">text</a>
    <br>
    <a href="#" onclick="$('div').html('<p>new</p>');">html</a>
    <br>
    <a href="#" onclick="$('div').empty();">empty</a>
    <div></div>
    <div></div>
    <div></div>
 </body>
</html>
